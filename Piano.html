<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>JS Piano</title>
     <link rel="stylesheet" href="Piano.css">
</head>
<body>
     <div class="keys">
          <div data-key="65" class="key"> 
               <kbd>C</kbd> 
               <span class="sound">1</span>
          </div>

          <div data-key="83" class="key"> 
               <kbd>D</kbd> 
               <span class="sound">2</span>
          </div>

          <div data-key="68" class="key"> 
               <kbd>E</kbd> 
               <span class="sound">3</span>
          </div>

          <div data-key="70" class="key"> 
               <kbd>F</kbd> 
               <span class="sound">4</span>
          </div>

          <div data-key="71" class="key"> 
               <kbd>G</kbd> 
               <span class="sound">5</span>
          </div>

          <div data-key="72" class="key"> 
               <kbd>A</kbd> 
               <span class="sound">6</span>
          </div>

          <div data-key="74" class="key"> 
               <kbd>B</kbd> 
               <span class="sound">7</span>
          </div>

          <div data-key="75" class="key"> 
               <kbd>C</kbd> 
               <span class="sound">8</span>
          </div>

          <div data-key="76" class="key"> 
               <kbd>D</kbd> 
               <span class="sound">9</span>
          </div>    

          <div data-key="192" class="key"> 
               <kbd>E</kbd> 
               <span class="sound">0</span>                                           
          </div>
     </div>


     
     <audio data-key="65" src="./sounds/1.wav"></audio>
     <audio data-key="83" src="./sounds/2.wav"></audio>
     <audio data-key="68" src="./sounds/3.wav"></audio>
     <audio data-key="70" src="./sounds/4.wav"></audio>
     <audio data-key="71" src="./sounds/5.wav"></audio>
     <audio data-key="72" src="./sounds/6.wav"></audio>
     <audio data-key="74" src="./sounds/7.wav"></audio>
     <audio data-key="75" src="./sounds/8.wav"></audio>
     <audio data-key="76" src="./sounds/9.wav"></audio>
     <audio data-key="192" src="./sounds/0.wav"></audio>
     


     <script>
          function playSound(e){
               const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
               const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
               // console.log(e.keyCode);
               
               if (!audio) return;

               audio.currentTime = 0; // Rewind to the start
               audio.play();
               key.classList.add('playing');
          }

          function removeTransition(e){
               // console.log(e);
               if (e.propertyName !== 'transform') return;
               this.classList.remove('playing');
          }
          
          const keys = document.querySelectorAll('.key');
          keys.forEach(key => key.addEventListener('transitionend', removeTransition));
          window.addEventListener('keydown', playSound);
     </script>

</body>
</html>